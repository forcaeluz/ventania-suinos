{% extends "base.html" %}
{% load i18n %}
{% load static %}

<link rel="stylesheet" type="text/css" href="{% static 'flocks/flocks.css' %}" />
<title>{% trans "Flock Information" %}{{ flock.flock_name }}</title>
{% block main-content %}
<h1>{% trans "Flock information" %}</h1>

<h2>{% trans "General Information" %}</h2>
<ul>
    <li>{% trans "ID:" %} {{ flock.id }}</li>
    <li>{% trans "Friendly Identifier:" %} {{ flock.flock_name }}</li>
    <li>{% trans "Entry Date:" %} {{ flock.entry_date }}</li>
    <li>{% trans "Entry Weight:" %} {{ flock.entry_weight }}</li>
    <li>{% trans "Entry Count:" %} {{ flock.number_of_animals }}</li>
    <li>{% trans "Average Entry Weight:" %} {{ flock.average_entry_weight }}</li>
    <li>{% trans "Number of animals on farm" %} {{ flock.number_of_living_animals }}</li>
    {% if flock.number_of_living_animals > 0 %}
    <li>{% trans "Expected Exit Date" %} {{ flock.expected_exit_date }}</li>
    {% endif %}

</ul>

<h2>{% trans "Animal Death Information" %}</h2>
{% if death_list %}
<table class="flock-list">
<thead>
    <tr class="table-header">
        <td>{% trans "Exit Date" %}</td>
        <td>{% trans "Weight" %}</td>
        <td>{% trans "Cause" %}</td>
    </tr>
    </thead>
    {% for death in death_list %}
        <tr class="table-row">
        <td>{{death.date}}</td>
        <td>{{death.weight}}</td>
        <td>{{death.cause}}</td>
        </tr>
    {% endfor %}
</table>

{% else %}
<p>{% trans "No deaths in this flock." %}</p>
{% endif %}

{% if flock.number_of_living_animals > 0 %}
<a href="{% url "flocks:create_animal_death" %}">{% trans "Register new Animal Death" %}</a>
{% endif %}

<h2>{% trans "Sell Information" %}</h2>
{% if exits_list %}
<table class="flock-list">
<thead>
    <tr class="table-header">
        <td>{% trans "Exit Date" %}</td>
        <td>{% trans "Number of animals" %}</td>
        <td>{% trans "Total weight" %}</td>
        <td>{% trans "Average weight" %}</td>
    </tr>
    </thead>
    {% for exit in exits_list %}
        <tr class="table-row">
        <td>{{exit.date}}</td>
        <td>{{exit.number_of_animals}}</td>
        <td>{{exit.total_weight|stringformat:".2f"}}</td>
        <td>{{exit.average_weight|stringformat:".2f"}}</td>
        </tr>
    {% endfor %}
</table>
{% else %}
<p>{% trans "No animals exited." %}</p>
{% endif %}
{% if flock.number_of_living_animals > 0 %}
<a href="{% url "flocks:create_animal_exit" %}">{% trans "Register new Animal Exit" %}</a>
{% endif %}

<h2>{% trans "Separation Information" %}</h2>
{% if list_separations %}

{% else %}
<p>{% trans "No animals separated from this flock." %}</p>
{% endif %}
{% endblock %}